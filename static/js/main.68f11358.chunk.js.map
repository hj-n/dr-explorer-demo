{"version":3,"sources":["json sync /^/.//.*_points/.json$","json sync /^/.//.*_shepard/.json$","json sync /^/.//.*_edges/.json$","json sync /^/.//.*_missing_points/.json$","assets/mnist_sampled_10_pca.png","assets/mnist_sampled_10_umap.png","assets/mnist_sampled_10_tsne.png","components/Bottom-BarChart.js","components/Left-BasicInfo.js","components/Left-Control.js","components/Detail-Shepard.js","components/Detail-BarChart.js","components/Compare-Component.js","components/CompareView.js","components/Explorer-new.js","components/Right-Repository.js","App.js","reportWebVitals.js","index.js","assets/mnist_sampled_10_isomap.png"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","xAxis","yAxis","x","y","series","svgLeft","svgRight","tooltipLeft","tooltipRight","BasicInfoTab","props","dataset","method","emb_params","spacing","num","txt","parse","useEffect","className","style","height","width","overflow","toUpperCase","isLabel","colorScale","d3","label_data","require","Array","from","Set","d","label","sort","a","b","items","length","push","display","marginBottom","backgroundColor","fontSize","labelChart","obj","printParam","ControlTab","df_filename","emb_filename","slice","pointsData","buildFileSelector","fileSelector","document","createElement","setAttribute","marginTop","paddingBottom","margin","type","name","value","marginLeft","align","ShepardDiagram","jsonFileName","distance_data","plotHeight","xLabels","useState","fill","_","i","yLabels","xLabelsVisibility","matrix","current","j","shepardAxisSvg","domain","range","append","attr","call","position","transform","xLabelsLocation","xLabelWidth","yLabelWidth","data","squares","cellStyle","background","min","max","color","cellRender","BarChart","option","setOption","threshold","setThreshold","countLabel","df","count","sumLabel","df_label","df_value","target_label","sum","NaN","parseFloat","point_data","toString","false_data","false","missing_data","missing","label_list","filter","React","activeSeriesIndex","activeDatumIndex","setState","useMemo","axes","primary","stacked","show","hardMin","getSeriesStyle","useCallback","index","opacity","getDatumStyle","datum","r","seriesIndex","otherHovered","onFocus","focused","onChange","event","target","toFixed","tooltip","renderSVG","CompareViewComponent","compareSvg","compareSvgPoints","coor","minX","maxX","minY","maxY","xScale","yScale","selectAll","join","enter","text","on","this","selection","console","log","setMainMethod","select","remove","update","points","radius","missingPoints","CompareView","methods","tooltipMaxLen","BottomBarChart","isCountLeft","setCountLeft","isVisible","setVisible","isCountRight","setCountRight","res","reduce","cnt_data","val_data","series_cnt_left","series_val_left","forEach","n","v","key","seriesc_cnt_right","series_val_right","padding","values","isNaN","g","tickSizeOuter","bandwidth","contours","querySelector","querySelectorAll","c","offsetX","offsetY","category","parseInt","getTitle","getTitleRight","class","visibility","ExplorerNew","svgContour","svgContourPoints","svgMainView","gMainView","svgMiniMap","gBrush","miniContourPoints","svgs","edgesData","missingPointsData","knnData","acc","val","start","end","ratio","strokeWidth","stroke","setUpdate","pointsIn","setPointsIn","missingPointsIn","setMissingPointsIn","isSelecting","useRef","isMakingContour","contour","getMissingEdgesInfo","missingPointsDict","edges","adjacentPoints","undefined","adjacentPoint","keyStr","incidentPoints","split","drawPlot","prefix","svg","svgEdges","svgPoints","showMissing","showFalse","first","second","lScale","aScale","bScale","scaleBivariate","false_val","missing_val","getTransformValue","tmp","includes","brush","extent","scale","x0","y0","moveX","moveY","drag","dragX","subject","dragY","transX","transY","move","renderMissingEdges","finalPointSelection","polygon","invert","inside","pointsInPolygon","currentDict","listLen","realX","realY","Math","abs","preventDefault","idx","newScale","newTransX","newTransY","wheelDelta","main_method","bottom","left","RepositoryTab","repo_dict","thumbnail","repo","src","default","alt","makeButtons","App","mainMethod","embedding_parameters","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","axios","defaults","xsrfCookieName","xsrfHeaderName","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.68f11358.chunk.js","sourcesContent":["var map = {\n\t\"./mnist_sampled_10_isomap_missing_points.json\": 66,\n\t\"./mnist_sampled_10_isomap_points.json\": 214,\n\t\"./mnist_sampled_10_pca_missing_points.json\": 67,\n\t\"./mnist_sampled_10_pca_points.json\": 215,\n\t\"./mnist_sampled_10_tsne_missing_points.json\": 68,\n\t\"./mnist_sampled_10_tsne_points.json\": 216,\n\t\"./mnist_sampled_10_umap_missing_points.json\": 69,\n\t\"./mnist_sampled_10_umap_points.json\": 217\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 14;","var map = {\n\t\"./mnist_sampled_10_isomap_shepard.json\": 219,\n\t\"./mnist_sampled_10_pca_shepard.json\": 220,\n\t\"./mnist_sampled_10_tsne_shepard.json\": 221,\n\t\"./mnist_sampled_10_umap_shepard.json\": 222\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 218;","var map = {\n\t\"./mnist_sampled_10_isomap_edges.json\": 227,\n\t\"./mnist_sampled_10_pca_edges.json\": 228,\n\t\"./mnist_sampled_10_tsne_edges.json\": 229,\n\t\"./mnist_sampled_10_umap_edges.json\": 230\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 226;","var map = {\n\t\"./mnist_sampled_10_isomap_missing_points.json\": 66,\n\t\"./mnist_sampled_10_pca_missing_points.json\": 67,\n\t\"./mnist_sampled_10_tsne_missing_points.json\": 68,\n\t\"./mnist_sampled_10_umap_missing_points.json\": 69\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 231;","export default __webpack_public_path__ + \"static/media/mnist_sampled_10_pca.45f130db.png\";","export default __webpack_public_path__ + \"static/media/mnist_sampled_10_umap.3ed76db7.png\";","export default __webpack_public_path__ + \"static/media/mnist_sampled_10_tsne.f0dd4400.png\";","import React, { useEffect, useState } from 'react';\n\nimport * as d3 from 'd3';\n\n\nlet xAxis, yAxis, x, y, series, svgLeft, svgRight, tooltipLeft, tooltipRight;\n\nconst width = 800;\nconst height = 150;\nconst margin = {top : 10, left : 60, bottom : 30, right : 30};\n\nconst tooltipMaxLen = 200;\n\n\n\n\nconst BottomBarChart = (props) => {\n\n    const [isCountLeft, setCountLeft] = useState(true);\n    const [isVisible, setVisible] = useState(false);\n    const [isCountRight, setCountRight] = useState(true);\n\n    const onChangeLeft = e => {\n        if (e.target.value == \"count\"){\n            setCountLeft(true);\n        }\n        else setCountLeft(false);\n    }\n\n    const onChangeRight = e => {\n        if (e.target.value == \"count\"){\n            setCountRight(true);\n        }\n        else setCountRight(false);\n    }\n    \n    const {data, label, points, update, colorScale} = props;\n    let {missingPoints} = props;\n    \n\n    const res = label.reduce((a,b)=> (a[b]=0,a),{});\n\n    let cnt_data = [{name: \"all\", ...res}, {name:\"false\", ...res, }, {name:\"missing\", ...res}];\n    let val_data = [{name:\"false\", ...res, }, {name:\"missing\", ...res}];\n\n    svgLeft = d3.select(\"#bottomBarChart\").attr(\"width\", `${width / 2}px`);\n    svgRight = d3.select(\"#bottomResultBarChart\").attr(\"width\", `${width / 2}px`);\n    \n    \n\n    useEffect(() => {\n        svgLeft.selectAll(\"g\").remove();\n        svgRight.selectAll(\"g\").remove();\n        setVisible(false);\n        if (update){\n            setVisible(true);\n\n            points.forEach(n => {\n                cnt_data[0][data[n].label] += 1;\n\n                if (data[n].missing > 0){ // missing\n                    val_data[1][data[n].label] += data[n].missing;\n                    cnt_data[2][data[n].label] += 1;\n                }\n                if (data[n].false > 0){ \n                    val_data[0][data[n].label] += data[n].false;\n                    cnt_data[1][data[n].label] += 1;\n                }\n            });\n\n            let series_cnt_left, series_val_left;\n            \n            series_cnt_left = d3.stack().keys(label)(cnt_data).map(d => (d.forEach(v => v.key = d.key), d));;\n            series_val_left = d3.stack().keys(label)(val_data).map(d => (d.forEach(v => v.key = d.key), d));;\n\n            \n            \n            const getTitle = (label, category) => {\n                if (category == \"all\"){\n                    let c = series_cnt_left[label][0];\n                    return (`Label : ${label}, Count : ${parseInt(c[1]-c[0])}`); // Label 1, Count : 10, Val : \n                }\n                else {\n                    let c = series_cnt_left[label][`${(category === \"false\"? 1 : 2)}`];\n                    let v = series_val_left[label][`${(category === \"false\"? 0 : 1)}`];\n                    return (`Label: ${label}, Count: ${parseInt(c[1] - c[0])}, Value : ${(v[1] - v[0]).toFixed(3)}`)\n                }\n\n            };\n            \n            x = d3.scaleLinear()\n                .range([margin.left, (width - margin.right) / 2]);\n\n                \n            y = d3.scaleBand()\n                .range([margin.top, height - margin.bottom])\n            .padding(`${isCountLeft? 0.08 : 0.2}`);\n\n                \n            if (isCountLeft) {\n                series = series_cnt_left;\n                x.domain([0,points.length]);\n                y.domain([\"missing\", \"false\", \"all\"])\n            }\n            else {\n                series = series_val_left;\n                x.domain([0, d3.max(val_data.map(d => Object.values(d).reduce((a, b) => a+(isNaN(parseFloat(b))?0:parseFloat(b)))))]);\n                y.domain([\"missing\", \"false\"])\n            }\n\n\n            xAxis = g => g\n                .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n                .call(d3.axisBottom(x))\n\n            yAxis = g => g\n                .attr(\"transform\", `translate(${margin.left},0)`)\n                .call(d3.axisLeft(y).tickSizeOuter(0))\n                .call(g => g.selectAll(\".domain\").remove());\n\n            \n        // svg.attr(\"viewBox\", [0, 0, width, height]);\n// d : arr\n// 0: 122\n// 1: 137\n// data: {0: 31, 1: 0, 2: 16, 3: 40, 4: 0, 5: 27, 6: 8, 7: 0, 8: 15, 9: 0, name: \"all\"}\n// key: 8\n            svgLeft.append(\"g\")\n                .selectAll(\"g\")\n                .data(series)\n                .join(\"g\")\n                .attr(\"fill\", d => colorScale(d.key))\n                .selectAll(\"rect\")\n                .data(d => d)\n                .join(\"rect\")\n                .attr(\"x\", d => x(d[0]))\n                .attr(\"y\", (d, i) => y(d.data.name))\n                .attr(\"width\", d => x(d[1]) - x(d[0]))\n                .attr(\"height\", y.bandwidth())\n                .on(\"mouseover\", function(e, d) {\n                    tooltipLeft.style(\"display\", null); \n                    if (d.data.name === \"all\"){\n                        let contours = document.querySelector(`#scatterplot_contour_point_g_${props.dataset}_${props.method}`);\n                        contours.querySelectorAll(\"circle\").forEach(c => {c.style.opacity = 0.1;});\n                        contours.querySelectorAll(`.label${d.key}`).forEach(c => {c.style.opacity = 1;});\n                    }\n            })\n                .on(\"mouseout\", function(e,d) { tooltipLeft.style(\"display\", \"none\");\n                if (d.data.name === \"all\"){\n                    let contours = document.querySelector(`#scatterplot_contour_point_g_${props.dataset}_${props.method}`);\n                    contours.querySelectorAll(\"circle\").forEach(c => {c.style.opacity = 1;});\n                }\n            })\n                .on(\"mousemove\",function(e, d) {\n                    tooltipLeft.select(\"rect\").attr(\"width\",`${d.data.name === \"all\" ? 130 : tooltipMaxLen}`)\n                    tooltipLeft.attr(\"transform\", \n                        `translate(${d3.min([e.offsetX - 30, (width - margin.right ) / 2 - (d.data.name === \"all\" ? 130 : tooltipMaxLen)])},\n                        ${e.offsetY - 25} )`);\n                    tooltipLeft.select(\"text\").text(getTitle(d.key, d.data.name));\n                })\n                \n                svgLeft.append(\"g\")\n                    .attr(\"class\", \"x-axis\")\n                    .call(xAxis);\n\n                svgLeft.append(\"g\")\n                    .attr(\"class\", \"y-axis\")\n                    .call(yAxis);\n\n                tooltipLeft = svgLeft.append(\"g\")\n                .attr(\"class\", \"tooltip\")\n                .style(\"display\", \"none\");\n                      \n                tooltipLeft.append(\"rect\")\n                    .attr(\"height\", 20)\n                    .attr(\"fill\", \"white\")\n                    .style(\"opacity\", 0.5);\n                  \n                    tooltipLeft.append(\"text\")\n                    .attr(\"x\", 5)\n                    .attr(\"dy\", \"1.2em\")\n                    .style(\"text-anchor\", \"start\")\n                    .attr(\"font-size\", \"12px\")\n                    .attr(\"font-weight\", \"bold\");\n\n\n                missingPoints = Object.keys(missingPoints);\n                cnt_data = [{name:\"false\", ...res, }, {name:\"missing\", ...res}];\n                val_data = [{name:\"false\", ...res, }, {name:\"missing\", ...res}];\n\n                \n    missingPoints.forEach(n => {\n                        if (data[n].missing > 0){ // missing\n                            val_data[1][data[n].label] += data[n].missing;\n                            cnt_data[1][data[n].label] += 1;\n                        }\n                        if (data[n].false > 0){ \n                            val_data[0][data[n].label] += data[n].false;\n                            cnt_data[0][data[n].label] += 1;\n                        }\n                    });\n\n\n            let seriesc_cnt_right, series_val_right;\n                    \n            seriesc_cnt_right = d3.stack().keys(label)(cnt_data).map(d => (d.forEach(v => v.key = d.key), d));;\n            series_val_right = d3.stack().keys(label)(val_data).map(d => (d.forEach(v => v.key = d.key), d));;\n\n            \n            x = d3.scaleLinear()\n                .range([margin.left, (width - margin.right) / 2]);\n            \n            const getTitleRight = (label, category) => {\n                let c = seriesc_cnt_right[label][`${(category === \"false\"? 0 : 1)}`];\n                let v = series_val_right[label][`${(category === \"false\"? 0 : 1)}`];\n                return (`Label: ${label}, Count: ${parseInt(c[1] - c[0])}, Value : ${(v[1] - v[0]).toFixed(3)}`)\n\n            }\n\n            if (isCountRight) {\n                series = d3.stack()\n                .keys(label)(cnt_data)\n                .map(d => (d.forEach(v => v.key = d.key), d));\n                x.domain([0,missingPoints.length]);\n            }\n            else {\n                series = d3.stack()\n                .keys(label)(val_data)\n                .map(d => (d.forEach(v => v.key = d.key), d));\n                x.domain([0, d3.max(val_data.map(d => Object.values(d).reduce((a, b) => a+(isNaN(parseFloat(b))?0:parseFloat(b)))))]);\n            }\n\n            y = d3.scaleBand()\n                .domain([\"missing\", \"false\"])\n                .range([margin.top, height - margin.bottom])\n                .padding(0.2);\n\n\n            xAxis = g => g\n                .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n                .call(d3.axisBottom(x))\n\n            yAxis = g => g\n                .attr(\"transform\", `translate(${margin.left},0)`)\n                .call(d3.axisLeft(y).tickSizeOuter(0))\n                .call(g => g.selectAll(\".domain\").remove());\n\n            \n        // svg.attr(\"viewBox\", [0, 0, width, height]);\n\n\n            svgRight.append(\"g\")\n                .selectAll(\"g\")\n                .data(series)\n                .join(\"g\")\n                .attr(\"fill\", d => colorScale(d.key))\n                .selectAll(\"rect\")\n                .data(d => d)\n                .join(\"rect\")\n                .attr(\"x\", d => x(d[0]))\n                .attr(\"y\", (d, i) => y(d.data.name))\n                .attr(\"width\", d => x(d[1]) - x(d[0]))\n                .attr(\"height\", y.bandwidth())\n                .on(\"mouseover\", function() { tooltipRight.style(\"display\", null); })\n                .on(\"mouseout\", function() { tooltipRight.style(\"display\", \"none\"); })\n                .on(\"mousemove\", function(e, d) {\n                    tooltipRight.attr(\"transform\", `translate(${d3.min([e.offsetX - 30, (width - margin.right ) / 2 - tooltipMaxLen])}, ${e.offsetY - 25} )`);\n                    tooltipRight.select(\"text\").text(getTitleRight(d.key, d.data.name));\n                })\n\n                svgRight.append(\"g\")\n                    .attr(\"class\", \"x-axis\")\n                    .call(xAxis);\n\n                svgRight.append(\"g\")\n                    .attr(\"class\", \"y-axis\")\n                    .call(yAxis);\n\n                    tooltipRight = svgRight.append(\"g\")\n                .attr(\"class\", \"tooltip\")\n                .style(\"display\", \"none\");\n                      \n                tooltipRight.append(\"rect\")\n                    .attr(\"width\", tooltipMaxLen)\n                    .attr(\"height\", 20)\n                    .attr(\"fill\", \"white\")\n                    .style(\"opacity\", 0.5);\n                  \n                    tooltipRight.append(\"text\")\n                    .attr(\"x\", 5)\n                    .attr(\"dy\", \"1.2em\")\n                    .style(\"text-anchor\", \"start\")\n                    .attr(\"font-size\", \"12px\")\n                    .attr(\"font-weight\", \"bold\");\n                    \n            \n        }\n    },[props.update, isCountLeft, isCountRight]);\n\n\n    return (\n        <div id=\"detailview\">\n            <div className=\"section-title bottom\" style={{width:`${(width / 2) - 140}px`, display:\"inline-block\"}}>Selected Points Label Distribution</div>\n            <select class=\"selection-info-view\" onChange={onChangeLeft} style={{visibility:`${isVisible? \"visible\":\"hidden\"}`}}>\n                <option value=\"count\">Count</option>\n                <option value=\"value\">Value</option>\n            </select>\n            <div className=\"section-title bottom\" style={{width:`${(width / 2) - 140}px`, display:\"inline-block\"}}>Missing Points Label Distribution</div>\n            <select class=\"selection-info-view\" onChange={onChangeRight} style={{visibility:`${isVisible? \"visible\":\"hidden\"}`}}>\n                <option value=\"count\">Count</option>\n                <option value=\"value\">Value</option>\n            </select>\n            <svg id=\"bottomBarChart\"></svg>\n            <svg id=\"bottomResultBarChart\"></svg>\n        </div>\n    )\n    \n};\n\nexport default BottomBarChart;","import React, { useState, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport parse from 'html-react-parser';\n\nconst BasicInfoTab = (props) => {\n\n  let df_name = props.dataset;\n  let emb_name = props.method;\n  let emb_params = props.emb_params;\n\n  useEffect(() => {\n    df_name = props.dataset;\n    emb_name = props.method;\n  }, [props.dataset, props.method])\n  \n  function labelChart(){\n    if (props.isLabel){\n      let colorScale = d3.scaleOrdinal(d3.schemeCategory10);\n      let label_data = require(\"../json/\" + props.dataset + \"_\" + props.method + \"_points.json\");\n      label_data = Array.from(new Set(label_data.map((d) => d.label))).sort((a,b)=> a - b);\n      \n      const items = [];\n      for (let x=0; x<label_data.length; x++){\n        items.push(\n          <div style={{display: \"flex\", marginBottom: \"3px\"}}>\n            <rect style={{height: \"15px\", width: \"50px\", backgroundColor: colorScale(x)}}></rect>\n            <div style={{height: \"15px\", fontSize: \"15px\"}}>&nbsp;&nbsp;:&nbsp;&nbsp;{label_data[x]}</div>\n          </div>\n        )\n      }\n      return items;\n    }\n    else{ \n      return (<div>-</div>);\n    }\n  }\n\n  function printParam(obj) {\n    const items = [];\n    for (let x in obj){\n      items.push(\n        <div>\n          {x}&nbsp;&nbsp;:&nbsp;&nbsp;{obj[x]}\n        </div>\n      )\n    }\n    return items;\n  }\n\n  function spacing(num) {\n    let txt = '';\n    for (let x = 0; x < num; x++){\n      txt+= \"&nbsp;\"\n    }\n    return parse(txt);\n  }\n\n  return (\n    <div id=\"basic-info\" className='Tab'>\n       <div className=\"tab-title\">\n       Basic Information\n       </div>\n      <div className=\"keyword\">\n        <b>DATASET{spacing(5)}</b>\n        <div style={{height:'20px',width:'220px',overflow:'auto'}}>{props.dataset.toUpperCase()}</div>\n      </div>\n      <div className=\"keyword\">\n        <b>EMBEDDING{spacing(5)}</b>\n        <div style={{height:'20px',width:'200px',overflow:'auto'}}>{props.method.toUpperCase()}</div>\n      </div>\n\n      <div className=\"two-cols\">\n        <div id=\"header\" className=\"column1\">Label Color</div>\n        <div id=\"header\" className=\"column2\">Model Parameter</div>\n      </div>\n\n      <div className=\"two-cols\">\n        <div className=\"column1\" style={{height:'85px',overflow:'auto'}}>\n          {labelChart()}\n        </div>\n        <div className=\"column2\" style={{height:'85px',overflow:'auto'}}>\n          {printParam(emb_params)}\n        </div>\n      </div>\n    </div>\n  );\n\n\n}\n\nexport default BasicInfoTab;","import React, { useState } from 'react';\nimport parse from 'html-react-parser';\n\n\nconst ControlTab = (props) => {\n\n  let df_filename = props.dataset + \"_original.json\";\n  let emb_name = props.method;\n  let emb_params = props.emb_params;\n  let emb_filename = props.dataset + \"_\" + props.method + \"_points(\";\n  for (let x in emb_params){\n    emb_filename += emb_params[x] + \"_\";\n  } emb_filename = emb_filename.slice(0,-1) + \").json\";\n\n  let label_data;\n  if (props.isLabel){\n    let pointsData = require(\"../json/\" + props.dataset + \"_\" + props.method + \"_points.json\");\n    label_data = Array.from(new Set(pointsData.map((d) => d.label))).sort((a,b)=> a - b);\n  }else{ label_data = 'not-exist'; }\n\n  const printParam = (obj) => {\n    const items = [];\n    for (let x in obj){\n      items.push(\n        <div style={{display: \"flex\", paddingBottom:\"5px\"}}>\n          <div style={{width: \"90px\", margin: \"0 10px\"}}>{x}</div>\n          <input type = \"text\" name = {x} value = {obj[x]}/><br/>\n        </div>\n      )\n    }\n    return items;\n  }\n  \n  const spacing = (num) => {\n    let txt = '';\n    for (let x = 0; x < num; x++){\n      txt+= \"&nbsp;\"\n    }\n    return parse(txt);\n  }\n  \n  function buildFileSelector(){\n    const fileSelector = document.createElement('input');\n    fileSelector.setAttribute('type', 'file');\n    fileSelector.setAttribute('multiple', 'multiple');\n    return fileSelector;\n  }\n  const input_original = buildFileSelector();\n  const input_emb = buildFileSelector();\n  \n\n  const onClickData = (e) => {\n    e.preventDefault();\n    input_original.click();\n  }\n  const onClickMeta = (e) => {\n    e.preventDefault();\n    input_emb.click();\n  }\n  const onClickEmb = (e) => {\n    e.preventDefault();\n    input_emb.click();\n  }\n  const handleChange = (e) => {\n    //\n  }\n  const handleSubmit = (e) => {\n    alert('A name was submitted: ' + this.state.value);\n    e.preventDefault();\n  }\n\n  return (\n    <div id=\"control\" className='Tab'>\n        <div className=\"tab-title\">\n        Control\n        </div>\n      <div className=\"keyword\">\n        <b style={{marginTop:'4px', height:'20px', width:'120px'}}>DATASET</b>\n        <button style={{width:'200px'}}>Load Original Data</button>\n      </div>\n      <div className=\"data\"  style={{height:'30px',width:'310px',overflow:'auto', fontSize:'15px'}}>\n        <div>{`file${spacing(2)}:${spacing(2)}${df_filename}`}</div>\n      </div>\n\n      \n      <div className=\"keyword\">\n        <b style={{marginTop:'4px', height:'20px', width:'120px'}}>EMBEDDING</b>\n      </div>\n      <div className=\"keyword\">\n        <button>Load Meta Data</button>\n        {spacing(2)}\n        <button>Load Embedding Data</button>\n      </div>\n      <div className=\"data\"  style={{height:'30px',width:'310px',overflow:'auto', fontSize:'15px'}}>\n      {`file${spacing(2)}:${spacing(3)}${emb_filename}`}</div>\n\n      <div>\n        <form>\n          {printParam(emb_params)}\n          <div style={{marginLeft:\"175px\"}}>\n            <input type=\"reset\" value=\"Reset\" align=\"right\"/>{spacing(2)}\n            <input type=\"submit\" value=\"Submit\" align=\"right\"/>\n          </div>\n        </form>    \n      </div>\n    </div>\n  );\n\n}\n\nexport default ControlTab;","import React, { useEffect, useState } from 'react';\nimport HeatMap from 'react-heatmap-grid';\nimport * as d3 from 'd3';\n\n\nconst ShepardDiagram = (props) => {\n  let jsonFileName = props.dataset + \"_\" + props.method;\n  // jsonFileName = \"mnist_sampled_50_pca\"\n  let distance_data = require(\"../json/\" + jsonFileName + \"_shepard.json\");\n  // let dist_orig = Object.values(distance_data.dist_orig);\n  // let dist_emb = Object.values(distance_data.dist_emb);\n\n\n  const N = 20; const plotHeight= 190;\n  const xLabels = useState(new Array(N).fill(0).map((_, i) => `${i}`))[0];\n  const yLabels = useState(new Array(N).fill(''))[0];\n  const xLabelsVisibility = new Array(N).fill(false);\n\n  // const shepardMatrix = (dist_orig, dist_emb) => {\n  //   let shepard_data = new Array(N).fill(0).map(() => new Array(N).fill(0));\n  //   let xmin=Math.min.apply(null, dist_orig); let xdel=Math.max.apply(null, dist_orig) - xmin + 1e-10; \n  //   let ymin=Math.min.apply(null, dist_emb); let ydel=Math.max.apply(null, dist_emb) - ymin + 1e-10; \n  //   let m,n;\n  //   for (let i=0; i<dist_emb.length; i++){\n  //     m = Math.floor((dist_orig[i]-xmin) / xdel * N);\n  //     n = Math.floor((dist_emb[i]-ymin) / ydel * N);\n  //     shepard_data[m][n] += 1;\n  //   }\n  //   return shepard_data;\n  // };\n  let matrix = [];\n  for (let i = 19; i >= 0; i--) {\n    let current = []\n    for (let j = 0; j < 20; j++) {\n      current.push(distance_data[i + \"_\" + j])\n    }\n    matrix.push(current)\n  }\n  // console.log(shepardMatrix(dist_orig, dist_emb))\n\n  // const onClick = (x, y) => alert(`Clicked ${x}, ${y}.`)\n  \n  const cellStyle = (background, value, min, max, data, x, y) => ({\n    background: `rgb(25, 25, 112, ${1 - (max - value) / (max - min)})`,\n    fontSize: \"5px\",\n    color: \"#444\",\n    margin: 0\n  });\n\n  const cellRender = (value) => {}\n\n\n  useEffect(() => {\n\n\n    let shepardAxisSvg = d3.select(\"#shepard-axis\")\n    let xAxis = d3.axisBottom(d3.scaleLinear().domain([0, 1]).range([0, plotHeight]));\n\n    shepardAxisSvg.append(\"g\") \n                  .attr(\"transform\", `translate(30, ${plotHeight+30})`)\n                  .call(xAxis)\n    \n    let yAxis = d3.axisLeft(d3.scaleLinear().domain([0, 1]).range([plotHeight, 0]));\n\n\n    shepardAxisSvg.append(\"g\")\n                  .attr(\"transform\", \"translate(30,30)\")\n                  .call(yAxis)\n  }, [])\n\n  const shepardContainerStyle = {\n\n  };\n\n  \n\n\n  return (\n    <div name=\"heatmap\" className='Shepard' style={shepardContainerStyle}>\n      <div className=\"section-title\">\n                    Shepard Diagram</div>\n      \n      <svg id={\"shepard-axis\"} style={{position: 'absolute'}} \n        transform={\"translate(-30, -30)\"} height={plotHeight+50} width={plotHeight+40}> \n      </svg>\n      <div>\n        <HeatMap name=\"plot\"\n          // background={\"#329fff\"}\n          xLabels={xLabels}\n          yLabels={yLabels}\n          xLabelsLocation={\"bottom\"} xLabelsVisibility={xLabelsVisibility}\n          xLabelWidth={0} yLabelWidth={0}\n          data={matrix}\n          // onClick={onClick}\n          squares={true}\n          height={plotHeight/N}\n          cellStyle={cellStyle}\n          cellRender={cellRender}\n      />\n      </div>\n      \n    </div>\n  );\n\n\n};\n\n\nexport default ShepardDiagram;","import React, { useEffect, useState }  from 'react';\nimport { Chart } from \"react-charts\";\nimport parse from 'html-react-parser';\n// import * as d3 from 'd3';\n\n\nconst BarChart = (props) => {\n  let jsonFileName = props.dataset + \"_\" + props.method;\n  const [option, setOption] = useState(props.option);\n  const [threshold, setThreshold] = useState(props.threshold);\n\n  function countLabel(df, d) {\n    let count = 0;\n    for (let i in df){ if (d === df[i]) count++;}\n    return count;\n  };\n  function sumLabel(df_label, df_value, target_label) {\n    let sum = 0;\n    if (df_value === NaN){\n      for (let i in df_label){ \n        if (df_label[i] === target_label) sum += parseFloat(df_value[i]);\n      }\n    }else{\n      for (let i in df_label){ \n        if (df_label[i] === target_label & df_value[i] > (threshold/100)) sum += parseFloat(df_value[i]);\n      }\n    }\n    return sum;\n  };\n\n  let data;\n  let point_data = require(\"../json/\" + jsonFileName + \"_points.json\");\n  let label_data = point_data.map((d) => d.label.toString());\n  let false_data = point_data.map((d) => d.false.toString());\n  let missing_data = point_data.map((d) => d.missing.toString());\n  const label_list = Array.from(new Set(label_data)).sort((a,b)=> a - b);\n\n  if (option==='count'){\n    data = label_list.map((d) => { \n      return {\n        label: d,\n        data: [\n          {x:\"All\", y: countLabel(label_data, d)}, \n          {x:\"Missing\", y: countLabel(label_data.filter((d,i) => missing_data[i] > (threshold/100)), d)}, \n          {x:\"False\", y: countLabel(label_data.filter((d,i) => false_data[i] > (threshold/100)), d)},\n        ]};\n    });\n  }\n  else{ // if option === \"sum\"\n    data = label_list.map((d) => { \n      return {\n        label: d,\n        data: [\n          {x: \"All\", y: 0.0}, \n          {x: \"Missing\", y: sumLabel(label_data, missing_data, d)}, \n          {x: \"False\", y: sumLabel(label_data, false_data, d)},\n        ]};\n    });\n  }\n\n  function handleOption(event) {\n    setOption(event.target.value);\n  }\n  function handleThreshold(event) {\n    setThreshold(event.target.value);\n  }\n\n\n  const [{ activeSeriesIndex, activeDatumIndex }, setState] = React.useState({\n    activeSeriesIndex: -1,\n    activeDatumIndex: -1\n  });\n\n  const series = React.useMemo(\n    () => ({\n      type: \"bar\"\n    }),\n    [\"bar\"]\n  );\n\n  const axes = React.useMemo(\n    () => [\n      { primary: true, type: \"ordinal\", position: \"bottom\"},\n      { type: \"linear\", position: \"left\", stacked: false, show: false, hardMin:0}\n    ],\n    []\n  );\n\n  const getSeriesStyle = React.useCallback(\n    series => ({\n      color: `url(#${series.index % label_list.length})`,\n      opacity:\n        activeSeriesIndex > -1\n          ? series.index === activeSeriesIndex\n            ? 1\n            : 0.3\n          : 1\n    }),\n    [activeSeriesIndex]\n  );\n\n  const getDatumStyle = React.useCallback(\n    datum => ({\n      r:\n        activeDatumIndex === datum.index && activeSeriesIndex === datum.seriesIndex\n          ? 7\n          : activeDatumIndex === datum.index\n          ? 5\n          : datum.series.index === activeSeriesIndex\n          ? 3\n          : datum.otherHovered\n          ? 2\n          : 2\n    }),\n    [activeDatumIndex, activeSeriesIndex]\n  );\n\n  const onFocus = React.useCallback(\n    focused =>\n      setState({\n        activeSeriesIndex: focused ? focused.series.id : -1,\n        activeDatumIndex: focused ? focused.index : -1\n      }),\n    [setState]\n  );\n\n  const colorScale = props.colorScale;\n  function renderSVG() {\n    let txt = \"<defs>\";\n    for (let i=0; i<label_list.length; i++){\n      txt += `<linearGradient id=\"${label_list[i]}\">`\n            + `<stop stop-color=\"${colorScale(i)}\"/>`\n            + \"</linearGradient>\";\n    }\n    txt += \"</defs>\"\n    return parse(txt);\n  }\n\n\n  return (\n    <div name=\"labelplot\" className='BarChart'>\n      <div style={{display:\"flex\"}}>\n        <input type=\"range\" min=\"0\" max=\"100\" value={threshold} onChange={handleThreshold} style={{width:\"80px\"}}/>\n        <div id=\"th-label\">{(threshold / 100).toFixed(2)}</div>\n        <select className=\"selection-info-view\" onChange={handleOption} style={{marginLeft:\"230px\"}}>\n        {/* <select id=\"selection-info-view\" onChange={handleOption} style={{marginLeft:\"420px\"}}> */}\n          <option value=\"count\">Count</option>\n          <option value=\"value\">Value</option>\n        </select>\n      </div>\n      <Chart data={data} series={series} axes={axes} tooltip \n        getSeriesStyle={getSeriesStyle}\n        getDatumStyle={getDatumStyle}\n        onFocus={onFocus}\n        setState={setState}\n        activeDatumIndex={activeDatumIndex}\n        activeSeriesIndex={activeSeriesIndex}\n        renderSVG = {renderSVG}\n      />\n    </div>\n  );\n\n\n};\n\n\n\nexport default BarChart;","import React, { useState, useEffect } from 'react'\nimport * as d3 from 'd3';\nimport { svg } from 'd3';\n\nconst CompareViewComponent = (props) => {\n\n    let jsonFileName = props.dataset + \"_\" + props.method;\n    let pointsData = require(\"../json/\" + jsonFileName + \"_points.json\");\n    // console.log(pointsData);\n    const colorScale = props.colorScale\n\n    const radius = 1;\n\n    let width = props.width\n    let height = props.height\n    const margin = { hor: 20, ver: 15 };\n\n    const [minX, maxX] = d3.extent(pointsData, d => d.coor[0]);\n    const [minY, maxY] = d3.extent(pointsData, d => d.coor[1]);\n\n    const xScale = d3.scaleLinear()\n                        .domain([minX, maxX])\n                        .range([0, width]);\n    \n    const yScale = d3.scaleLinear()\n                        .domain([minY, maxY])\n                        .range([0, height]);\n    \n    let compareSvg;\n    \n    let compareSvgPoints;\n    let svgSelectedPoints;\n    let svgHeighlightedPoints;\n\n        // changeMainMethod\n    function changeMainMethod() {\n\n        // console.log(props.setMainMethod(\"hi\"));\n        // props.setMainMethod(props.method);\n        console.log(props);\n        props.setMainMethod(props.method)\n        \n\n    }\n\n    \n\n    useEffect(() => {\n        compareSvg = d3.select(\"#\" + props.method+ \"_compare\")\n                            .attr(\"width\", width + margin.hor * 2)\n                            .attr(\"height\", height + margin.ver * 3);\n        \n        compareSvgPoints = compareSvg.append(\"g\")\n                                     .attr(\"id\", props.method+ \"_compare_points\")\n                                     .attr(\"transform\", \"translate(\" + margin.hor + \", \" + (margin.ver * 2) + \")\");\n        svgSelectedPoints = compareSvg.append(\"g\")\n                                      .attr(\"id\", props.method+ \"_compare_selected\")\n                                      .attr(\"transform\", \"translate(\" + margin.hor + \", \" + (margin.ver * 2) + \")\");\n        svgHeighlightedPoints = compareSvg.append(\"g\")\n                                          .attr(\"id\", props.method+ \"_compare_highlighted\")\n                                          .attr(\"transform\", \"translate(\" + margin.hor + \", \" + (margin.ver * 2) + \")\");\n        compareSvgPoints.selectAll(\"circle\")\n                        .data(pointsData)\n                        .join(\n                            enter => enter.append(\"circle\")\n                                        .attr(\"fill\", d => colorScale(d.label))\n                                        .style(\"opacity\", 0.4)\n                                        .attr(\"r\", radius)\n                                        .attr(\"cx\", d => xScale(d.coor[0]))\n                                        .attr(\"cy\", d => yScale(d.coor[1]))\n\n                        );\n\n        compareSvg.append(\"g\")\n                  .append(\"text\")\n                  .text(props.method.toUpperCase())\n                  .attr(\"font-size\", 13)\n                  .attr(\"font-weight\", 600)\n                  .attr(\"y\", 30)\n                  .attr(\"x\", 10)\n\n        d3.select(\"#\" + props.method + \"_compare\")\n            .on(\"mouseenter\", function() {\n                d3.select(this).append(\"rect\")\n                .attr(\"id\", \"select_rect_\" + props.method)\n                    .attr(\"fill\", \"none\")\n                    .attr(\"stroke\", \"black\")\n                    .attr(\"stroke-width\", 1)\n                    .attr(\"width\", props.width + margin.hor * 2)\n                    .attr(\"height\", props.width + margin.ver * 2.5)\n                    .attr(\"transform\", \"translate(0,\" + margin.ver * 0.5 + \")\")\n\n                let selection = d3.select(this)\n                  .append(\"g\")\n                  .attr(\"id\", \"select_\" + props.method);\n                selection.append(\"rect\")\n                  .attr(\"id\", \"rect_\" + props.method)\n                  .attr(\"transform\", \"translate(\" + (10) + \",\" + (props.height + 5) + \")\")\n                  .attr(\"width\", 160)\n                  .attr(\"height\", 30)\n                  .attr(\"rx\", 7)\n                  .attr(\"ry\", 7)\n                  .style(\"stroke\", \"black\")\n                  .attr(\"fill\", \"#eeeeee\")\n                selection\n                  .on(\"mouseenter\", function() {\n                      d3.select(\"#rect_\" + props.method)\n                        .style(\"stroke-wdith\", 2)\n                        .attr(\"fill\", \"#bbbbbb\")\n                  })\n                  .on(\"mouseleave\", function() {\n                    d3.select(\"#rect_\" + props.method)\n                      .style(\"stroke-wdith\", 1)\n                      .attr(\"fill\", \"#eeeeee\")\n                  })\n                  .on(\"mousedown\", function() {\n                      d3.select(\"#rect_\" + props.method)\n                      .style(\"stroke-wdith\", 1)\n                      .attr(\"fill\", \"#eeeeee\")\n                  })\n                  .on(\"mouseup\", function() {\n                    d3.select(\"#rect_\" + props.method)\n                      .style(\"stroke-wdith\", 2)\n                      .attr(\"fill\", \"#bbbbbb\")\n                  })\n                  .on(\"click\", function() {\n                      changeMainMethod();\n                  });\n\n                selection.append(\"text\")\n                         .attr(\"id\", \"text_\" + props.method)\n                         .attr(\"font-size\", 13)\n                         .attr(\"font-weight\", 300)\n                         .attr(\"transform\", \"translate(\" + (17) + \",\" + (props.height + 25) + \")\")\n                         .text(\"Set as Main Projection!!\")\n                         .style(\"user-select\", \"none\")\n\n                \n                // console.log(d3.select(\"#\" + props.method + \"compare_div\"))\n                // d3.select(this)\n                //   .append(\"button\")\n                //   .text(\"Set as Main Projection!!\")\n                //   .style(\"display\", \"block\")\n                //   .style(\"position\", \"relative\")\n                //   .style(\"top\", \"-30px\")\n                //   .style(\"left\", \"6px\")\n                //   .attr(\"onclick\", \"changeMainMethod()\")\n            })\n            .on(\"mouseleave\", function() {\n                d3.select(this).select(\"#select_rect_\" + props.method).remove();\n                d3.select(this).select(\"#select_\" + props.method).remove();\n\n                // d3.select(this)\n                //   .select(\"button\").remove();\n\n            })\n    }, [])\n\n    useEffect(() => {\n\n\n\n        if(props.update) {   // if new selection\n            d3.select(\"#\" + props.method+ \"_compare_selected\").selectAll(\"circle\")\n                             .data(props.points)\n                             .enter()\n                             .append(\"circle\")\n                             .attr(\"fill\", \"blue\")\n                             .attr(\"r\", radius *1.5)\n                             .attr(\"cx\", i => xScale(pointsData[i].coor[0]))\n                             .attr(\"cy\", i => yScale(pointsData[i].coor[1]));\n\n            d3.select(\"#\" + props.method+ \"_compare_highlighted\").selectAll(\"circle\")\n              .data(Object.keys(props.missingPoints))\n              .enter()\n              .append(\"circle\")\n              .attr(\"fill\", \"red\")\n              .attr(\"r\", radius * 2)\n              .attr(\"cx\", i => xScale(pointsData[i].coor[0]))\n              .attr(\"cy\", i => yScale(pointsData[i].coor[1]))\n              .style(\"opacity\", i => props.missingPoints[i])\n\n            \n        }\n        else {\n            d3.select(\"#\" + props.method+ \"_compare_selected\").selectAll(\"circle\").remove()\n            d3.select(\"#\" + props.method+ \"_compare_highlighted\").selectAll(\"circle\").remove()\n        }\n\n    }, [props.update])\n\n                                     \n    \n\n    \n\n\n\n    return (\n        <div id={props.method + \"_compare_div\"} style={{height: \"250px\"}}>\n            <svg id={props.method + \"_compare\"}>\n            </svg>\n        </div>\n    )\n}\n\nexport default CompareViewComponent;","import React, { useState, useEffect } from 'react'\n\nimport CompareViewComponent from './Compare-Component'\n\n\nconst CompareView = (props) => {\n\n    // LLE  restore TODOTODOTODO\n    // const methods  = props.methods.filter(d => d !== props.main_method)\n    const methods = props.methods;\n\n    const compareWidth = 200;\n    const compareHeight = 200;\n\n    useEffect(() => {\n        // console.log(props.points);\n        // console.log(methods);\n    }, [props.update])\n\n\n    let titleStyle = {\n        \"marginTop\": 14,\n        \"fontWeight\": 600,\n        \"textAlign\": 'center'\n    }\n\n    let divStyle = {\n        \"paddingLeft\": 17\n    }\n\n    return (\n        <div style={divStyle}>\n            <div style={titleStyle}>Compare View</div>\n            <div style={{display: \"flex\"}}>\n            {methods.slice(0,2).map((method, i) => (\n                <CompareViewComponent\n                    method = {method}\n                    dataset = {props.dataset}\n                    points = {props.points}\n                    update = {props.update}\n                    width = {compareWidth}\n                    height = {compareHeight}\n                    colorScale = {props.colorScale}\n                    missingPoints = {props.missingPoints}\n                    setMainMethod = {props.setMainMethod}\n                />\n            ))}\n            </div>\n            <div style={{display: \"flex\"}}>\n            {methods.slice(2,4).map((method, i) => (\n                <CompareViewComponent\n                    method = {method}\n                    dataset = {props.dataset}\n                    points = {props.points}\n                    update = {props.update}\n                    width = {compareWidth}\n                    height = {compareHeight}\n                    colorScale = {props.colorScale}\n                    missingPoints = {props.missingPoints}\n                    setMainMethod = {props.setMainMethod}\n                />\n            ))}\n            </div>\n        </div>\n    )\n\n}\n\nexport default CompareView;","import React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\nimport { color, precisionPrefix } from 'd3';\nimport inside from 'point-in-polygon'\nimport ShepardDiagram from './Detail-Shepard';\nimport BarChart from './Detail-BarChart';\nimport CompareView from \"./CompareView\";\nimport BottomBarChart from './Bottom-BarChart';\n\nconst ExplorerNew = (props) => {\n\n    let jsonFileName = props.dataset + \"_\" + props.method;\n    let pointsData = require(\"../json/\" + jsonFileName + \"_points.json\");\n    let edgesData = require(\"../json/\" + jsonFileName + \"_edges.json\");\n    let missingPointsData = require(\"../json/\" + jsonFileName + \"_missing_points.json\")\n    const label_data = Array.from(new Set(pointsData.map((d) => d.label))).sort((a,b)=> a - b);\n    // pointsData = pointsData.map((d, i) => {\n    //     return {\n    //         coor: d.coor,\n    //         lable: d.label,\n    //         idx: i\n    //     };\n    // });\n\n    let knnData = edgesData.reduce(function(acc, val) {\n        if (val.start in acc) acc[val.start].push(val.end);\n        else                  acc[val.start] = [val.end];\n        if (val.end in acc)   acc[val.end].push(val.start);\n        else                  acc[val.end] = [val.start];\n        return acc;\n    }, {})\n\n    // console.log(pointsData, edgesData, missingPointsData, knnData) \n\n    const width = 800;\n    const height = 800;\n    // const margin = { hor: width / 40, ver: height / 40 };\n    const margin = { hor: 15, ver: 15 };\n\n    const [minX, maxX] = d3.extent(pointsData, d => d.coor[0]);\n    const [minY, maxY] = d3.extent(pointsData, d => d.coor[1]);\n\n    const xScale = d3.scaleLinear()\n                        .domain([minX, maxX])\n                        .range([0, width]);\n    \n    const yScale = d3.scaleLinear()\n                        .domain([minY, maxY])\n                        .range([0, height]);\n\n    const ratio = 0.38;\n\n\n    let svgContour, svgContourPoints;\n    let svgMainView, gMainView, svgMiniMap, gBrush;\n\n    let miniContourPoints;\n\n    let pointSelection;\n\n    const radius = props.radius;\n    const strokeWidth = props.stroke;\n\n\n\n    let colorScale = d3.scaleOrdinal(d3.schemeCategory10);\n\n    const [update, setUpdate] = useState();\n    const [pointsIn, setPointsIn] = useState([]);\n    const [missingPointsIn, setMissingPointsIn] = useState([]);\n    const isSelecting = useRef(false);\n    const isMakingContour = useRef(false);\n    let contour = useRef([]);\n\n\n    let svgs;\n\n\n    function pointsInPolygon(polygon) {\n\n        \n        let scale = getTransformValue()[0];\n\n        polygon = polygon.map(d => [xScale.invert(d[0] - margin.hor / scale), yScale.invert(d[1] - margin.ver / scale)]);\n        let pointsInPolygon = pointsData.reduce(function(acc, val, i){\n            if (inside(val.coor, polygon)) acc.push(i);\n            return acc;\n        }, []);\n        return pointsInPolygon;\n    }\n\n    function getMissingEdgesInfo(missingPointsDict) {\n        let missingPointsList = Object.keys(missingPointsDict);\n        let edges = missingPointsList.reduce(function(acc, val) {\n            let adjacentPoints = knnData[val.toString()]\n            if (adjacentPoints === undefined) return acc;\n            adjacentPoints.forEach(adjacentPoint => {\n                if(parseInt(adjacentPoint) in missingPointsDict) {\n                    let keyStr = parseInt(adjacentPoint) < val ? \n                                adjacentPoint  + \"_\" + val.toString() : \n                                val.toString() + \"_\" + adjacentPoint;\n                    acc.push(keyStr);\n                }\n            });\n            return acc;\n        }, []);\n        edges = Array.from(new Set(edges));\n        edges = edges.map(d => {\n            const incidentPoints = d.split(\"_\");\n            return [parseInt(incidentPoints[0]), parseInt(incidentPoints[1])];\n        })\n        return edges;\n    }\n\n    const drawPlot = (ratio, prefix) => {\n        svgs = d3.select(`#${prefix}_${props.dataset}_${props.method}`)\n        .attr(\"width\", ratio * (width + margin.hor * 2))\n        .attr(\"height\", ratio * (height + margin.ver * 2));\n\n\n        svgs.append(\"rect\")\n            .attr(\"width\", ratio * (width + margin.hor * 2))\n            .attr(\"height\", ratio * (height  + margin.ver * 2))\n            .style(\"fill-opacity\", 1)\n            .style(\"fill\", \"white\");\n            // .style(\"stroke\", \"black\")\n            // .style(\"stroke-width\", 2)\n\n        let svg = svgs.append(\"g\")\n            .attr(\"id\", `${prefix}_g_${props.dataset}_${props.method}`)\n            .attr(\"transform\", `translate(${ratio * margin.hor}, ${ratio * margin.ver})`);\n\n        let svgEdges = svg.append(\"g\")\n                        .attr(\"id\", `${prefix}_edge_g_${props.dataset}_${props.method}`);\n\n        let svgContour = svg.append(\"g\")\n                        .attr(\"id\", `${prefix}_contour_g_${props.dataset}_${props.method}`);\n            \n        let svgContourPoints = svg.append(\"g\")\n                        .attr(\"id\", `${prefix}_contour_point_g_${props.dataset}_${props.method}`);\n\n\n        let svgPoints = svg.append(\"g\")\n                        .attr(\"id\", `${prefix}_circle_g_${props.dataset}_${props.method}`);\n\n        let svgMissingEdges = svg.append(\"g\")\n                        .attr(\"id\", `${prefix}_missing_edge_g_${props.dataset}_${props.method}`);\n        \n                        //points\n        svgPoints.selectAll(\"circle\")\n                        .data(pointsData)\n                         .join(\n                             enter => {\n                                 enter.append(\"circle\")\n                                     .attr(\"class\", (d,i) => \"circle\" + i.toString())\n                                     .attr(\"fill\", d => {\n                                         if (props.isLabel) return colorScale(d.label);\n                                         else return \"black\"; \n                                     })\n                                     .attr(\"cx\", d => ratio * xScale(d.coor[0]))\n                                     .attr(\"cy\", d => ratio * yScale(d.coor[1]))\n                                     .style(\"opacity\", 0.8)\n                                     .attr(\"r\", radius * ratio)\n                             }\n                         );\n        \n                         // edges\n        function scaleBivariate(first, second) {\n                        let lScale = d3.scaleLinear().domain([0, 2]).range([100, 30])\n                        let aScale = d3.scaleLinear().domain([1, -1]).range([30, -30])\n                        let bScale = d3.scaleLinear().domain([1, -1]).range([20, -20])\n            \n                        return d3.color(d3.lab(lScale(first + second), aScale(first - second), bScale(second-first)))\n                    };\n\n        svgEdges.selectAll(\"path\")\n                    .data(edgesData)\n                    .join(\n                        enter => {\n                            enter.append(\"path\")\n                                 .attr(\"fill\", \"none\")\n                                 .attr(\"stroke-width\", strokeWidth * ratio)\n                                 .attr(\"stroke\", d => {\n                                     if (props.showMissing && props.showFalse) return scaleBivariate(d.false_val, d.missing_val);\n                                     else return \"black\";\n                                 })\n                                 .attr(\"d\", d => {\n                                    return d3.line()\n                                             .x(datum => ratio * xScale(pointsData[datum].coor[0]))\n                                             .y(datum => ratio * yScale(pointsData[datum].coor[1]))\n                                             ([d.start, d.end])\n                                 });\n                        }\n                    );\n\n\n    }\n    const getTransformValue = () => {\n        const trans = gMainView.attr('transform');\n        const tmp = trans.split(\"translate(\")[1].split(\",\");\n\n        if (tmp[1].includes(\"scale\")){\n            return [parseFloat(tmp[1].split(\"scale(\")[1]),\n                    parseFloat(tmp[0]),\n                    parseFloat(tmp[1])];\n        }\n        else return [1.0,parseFloat(tmp[0]),parseFloat(tmp[1])];\n\n    }\n\n    function Brushing({selection}) {\n        let scale = getTransformValue()[0];\n        \n        if (selection){\n              let [x0, y0] = selection[0];\n              let moveX = margin.hor * scale - x0 * scale / ratio;\n              let moveY = margin.ver * scale - y0 * scale / ratio;\n              gMainView.attr('transform', `translate(${moveX}, ${moveY}) scale(${scale})`);\n          }\n      }\n\n    const brush = d3.brush()\n                      .extent([[0,0], [ratio * (width + 2 * margin.hor) ,ratio * (height + 2 * margin.ver)]])\n                      .on('brush', Brushing);\n\n    const drag = (e) => { // \n\n        const dragX = (e.subject.x - e.x) * 0.1;\n      const dragY = (e.subject.y - e.y) * 0.1;\n      const [scale, transX, transY] = getTransformValue();\n      const moveX = d3.max([d3.min([transX - dragX, margin.hor * scale]),(30 / scale) - (scale - 1.0) * width]);\n      const moveY = d3.max([d3.min([transY - dragY, margin.ver * scale]),(30 / scale) - (scale - 1.0) * height]);\n      gMainView.attr('transform', `translate(${moveX}, ${moveY}) scale(${scale})`);\n    \n    brush.move(gBrush, [\n        [(margin.hor * scale - moveX) * ratio / scale, (margin.ver * scale - moveY) * ratio / scale],\n        [(margin.hor * scale - moveX) * ratio / scale + (width + 2 * margin.hor) * ratio / scale,\n        (margin.ver * scale - moveY) * ratio / scale + (height + 2 * margin.ver) * ratio / scale],\n    ])\n\n    }\n\n    \n\n    useEffect(() => {\n\n\n        d3.select(`#scatterplot_${props.dataset}_${props.method}`).selectAll(\"g\").remove();\n        d3.select(`#minimap_${props.dataset}_${props.method}`).selectAll(\"g\").remove();\n        setUpdate(() => false);\n        // if(svgs !== undefined) {\n        //     console.log(\"remove\")\n        //     svgs.selectAll(\"g\").remove();\n        // }\n\n\n        drawPlot(1.0, \"scatterplot\");\n        drawPlot(ratio, \"minimap\");\n        svgContour = d3.select(`#scatterplot_contour_g_${props.dataset}_${props.method}`);\n        svgContourPoints = d3.select(`#scatterplot_contour_point_g_${props.dataset}_${props.method}`);\n        miniContourPoints = d3.select(`#minimap_contour_point_g_${props.dataset}_${props.method}`);\n        \n        function renderMissingEdges(edges, missingPointsDict) {\n            d3.select(`#scatterplot_missing_edge_g_${props.dataset}_${props.method}`)\n                    .selectAll(\"path\")\n                          .data(edges)\n                          .enter()\n                          .append(\"path\")\n                          .attr(\"fill\", \"none\")\n                          .attr(\"stroke-width\", strokeWidth)\n                          .attr(\"stroke\", \"red\")\n                          .attr(\"d\", d => {\n                              return d3.line()\n                                      .x(datum => xScale(pointsData[datum].coor[0]))\n                                      .y(datum => yScale(pointsData[datum].coor[1]))\n                                      (d);\n                          })\n                          .style(\"opacity\", d => {\n                              return (missingPointsDict[d[0]] + missingPointsDict[d[1]]) / 2\n                          });\n\n\n            d3.select(`#minimap_missing_edge_g_${props.dataset}_${props.method}`)\n                          .selectAll(\"path\")\n                                .data(edges)\n                                .enter()\n                                .append(\"path\")\n                                .attr(\"fill\", \"none\")\n                                .attr(\"stroke-width\", strokeWidth * ratio)\n                                .attr(\"stroke\", \"red\")\n                                .attr(\"d\", d => {\n                                    return d3.line()\n                                            .x(datum => ratio * xScale(pointsData[datum].coor[0]))\n                                            .y(datum => ratio * yScale(pointsData[datum].coor[1]))\n                                            (d);\n                                })\n                                .style(\"opacity\", d => {\n                                    return (missingPointsDict[d[0]] + missingPointsDict[d[1]]) / 2\n                                });\n        }\n\n        const finalPointSelection = () => {\n            \n            let points = pointsInPolygon(contour.current);\n            \n            svgContourPoints.selectAll(\"circle\")\n                    .data(points)\n                    .enter()\n                    .append(\"circle\")\n                    .attr(\"r\", radius * 2)\n                    .attr(\"cx\", d => \n                        xScale(pointsData[d].coor[0]))\n                    .attr(\"cy\", d => yScale(pointsData[d].coor[1]))\n                    .attr(\"fill\", \"blue\")\n                    .attr(\"class\", d => \"label\" + pointsData[d].label.toString());\n\n            miniContourPoints.selectAll(\"circle\")\n                    .data(points)\n                    .enter()\n                    .append(\"circle\")\n                    .attr(\"r\", radius * 2 * ratio)\n                    .attr(\"cx\", d => ratio * xScale(pointsData[d].coor[0]))\n                    .attr(\"cy\", d => ratio * yScale(pointsData[d].coor[1]))\n                    .attr(\"fill\", \"blue\");\n        \n            let missingPointsDict = points.reduce(function(acc, val) {\n                let currentDict = missingPointsData[val];\n                Object.keys(currentDict).forEach(key => {\n                    if (key in acc) acc[key] += currentDict[key];\n                    else            acc[key] =  currentDict[key];\n                });\n                return acc;\n            }, {})\n            \n\n            let listLen = points.length;\n            Object.keys(missingPointsDict).forEach(d => {\n                missingPointsDict[d] /= listLen;\n            })\n            let edges = getMissingEdgesInfo(missingPointsDict);\n            renderMissingEdges(edges, missingPointsDict);\n\n            setMissingPointsIn(() => missingPointsDict);\n            setPointsIn(() => points);\n            setUpdate(() => true);\n        }\n\n        pointSelection = d3.select(`#scatterplot_g_${props.dataset}_${props.method}`)\n                        .append(\"rect\")\n                        .attr(\"width\", width + margin.hor * 2)\n                        .attr(\"height\", height  + margin.ver * 2)\n                        .attr(\"transform\", \"translate(-\" + margin.hor + \", -\" + margin.ver + \")\")\n                        .style(\"fill-opacity\", 0)\n                        .on(\"click\", function(event) {\n                            if(!isSelecting.current) {\n                                \n                                const [scale, transX, transY] = getTransformValue();\n                                const realX = (event.offsetX - transX + margin.hor) / scale;\n                                const realY = (event.offsetY - transY + margin.hor) / scale;\n                                \n                                if(!isMakingContour.current) {\n                                    //  \n                                    isMakingContour.current = true;\n                                    // contour.current.push([event.offsetX, event.offsetY])\n                                    contour.current.push([realX, realY])\n                                    svgContour.append(\"path\")\n                                            .attr(\"id\", \"current_path\")\n                                            .attr(\"fill\", \"none\")\n                                            .attr(\"stroke\", \"blue\")\n                                            .attr(\"storke-width\", 1)\n                                            .attr(\"stroke-dasharray\", \"2 \");\n                                }\n                                else {\n                                    //         \n                                    svgContour.select(\"#current_path\")\n                                            .attr(\"id\", \"\")\n                                            .attr(\"d\", () => {\n                                                let start, end;\n                                                if (Math.abs(realX - contour.current[0][0]) < 4 &&\n                                                    Math.abs(realY - contour.current[0][1]) < 4) {\n                                                        start = contour.current[contour.current.length - 1];\n                                                        end = contour.current[0];\n                                                        isSelecting.current = true;\n                                                        isMakingContour.current = false; // finish making contour\n                                                    }\n                                                else {\n                                                    contour.current.push([realX, realY])\n                                                    start = contour.current[contour.current.length - 2];\n                                                    end = contour.current[contour.current.length - 1];\n                                                    svgContour.append(\"path\")\n                                                                .attr(\"id\", \"current_path\")\n                                                                .attr(\"fill\", \"none\")\n                                                                .attr(\"stroke\", \"blue\")\n                                                                .attr(\"storke-width\", 1)\n                                                                .attr(\"stroke-dasharray\", \"2 \");\n                                                }\n                                                \n                                                return d3.line()\n                                                            .x(datum => datum[0])\n                                                            .y(datum => datum[1])\n                                                            ([[start[0] - margin.hor / scale, start[1] - margin.ver / scale],[end[0] - margin.hor / scale, end[1] - margin.ver / scale]])\n                                            })\n                                    \n\n                                    if(isSelecting.current) { // finish making contour   \n                                        finalPointSelection();\n                                    }   \n                                }\n                                if(isMakingContour.current){\n\n                                    //      .\n                                    \n                                    // console.log(event.offsetX, event.offsetY);\n                                    svgContour.append(\"circle\")\n                                            .attr(\"r\", 1.5)\n                                            .attr(\"cx\", realX - margin.hor / scale)\n                                            .attr(\"cy\", realY - margin.ver / scale)\n                                            .attr(\"fill\", \"none\")\n                                            .attr(\"stroke\", \"blue\")\n                                            .attr(\"stroke-width\", 1);\n                                }\n                            }\n                            else { //  selection \n                                // clearing\n                                // TODO : refresh\n\n                                contour.current = [];\n                                isSelecting.current = false;\n                                setUpdate(() => false);\n\n                                svgContour.selectAll(\"path\").remove();\n                                svgContour.selectAll(\"circle\").remove();\n                                svgContourPoints.selectAll(\"circle\").remove();\n                                miniContourPoints.selectAll(\"circle\").remove();\n                                d3.select(`#scatterplot_missing_edge_g_${props.dataset}_${props.method}`).selectAll(\"path\").remove();\n                                d3.select(`#minimap_missing_edge_g_${props.dataset}_${props.method}`).selectAll(\"path\").remove();\n\n                            }\n                        })\n                        .on(\"mousemove\", function(event) {\n                            svgContour.select(\"#current_path\")\n                                        .attr(\"d\",() =>{\n                                            const [scale, transX, transY] = getTransformValue();\n                                            const realX = (event.offsetX - transX + margin.hor) / scale;\n                                            const realY = (event.offsetY - transY + margin.ver) / scale;\n                                            let start = contour.current[contour.current.length - 1]\n                                            let end;\n                                            if (Math.abs(realX - contour.current[0][0]) < 4 &&\n                                                Math.abs(realY - contour.current[0][1]) < 4) \n                                                end = contour.current[0];\n                                            else end = [realX, realY]\n                                            return d3.line()\n                                                    .x(datum => datum[0])\n                                                    .y(datum => datum[1])\n                                                    ([[start[0] - margin.hor / scale, start[1] - margin.ver / scale],[end[0] - margin.hor / scale, end[1] - margin.ver / scale]])\n                                        })\n                                    })\n                        .on('dblclick', e => {\n                            svgContour.select(\"#current_path\")\n                                        .attr(\"d\", () => {\n                                            let start = contour.current[contour.current.length - 1];\n                                            let end = contour.current[0];\n                                            const scale = getTransformValue()[0];\n                                            return d3.line()\n                                                    .x(datum => datum[0])\n                                                    .y(datum => datum[1])\n                                                    ([[start[0] - margin.hor / scale, start[1] - margin.ver / scale],[end[0] - margin.hor / scale, end[1] - margin.ver / scale]])\n                                        })\n                                        .attr(\"id\", \"\")\n                                        .attr(\"d\", () => {\n                                            const scale = getTransformValue()[0];\n                                                let start, end;\n                                                start = contour.current[contour.current.length - 1];\n                                                end = contour.current[0];\n                                                isSelecting.current = true;\n                                                isMakingContour.current = false; // finish making contour\n                                                return d3.line()\n                                                            .x(datum => datum[0])\n                                                            .y(datum => datum[1])\n                                                            ([[start[0] - margin.hor / scale, start[1] - margin.ver / scale],[end[0] - margin.hor / scale, end[1] - margin.ver / scale]])\n                                            });\n\n                                            finalPointSelection();\n\n                        })\n                        .on(\"contextmenu\", e => {\n                            if (!isSelecting.current){\n                            e.preventDefault();\n                            // svgContour    . \n                            // contour  \n                            // \n                            contour.current = [];\n                            svgContour.select(\"#current_path\")\n                                        .attr(\"id\", \"\")\n\n                            svgContour.selectAll(\"*\").remove();\n\n                            isSelecting.current = false;\n                            isMakingContour.current = false;\n                            setUpdate(() => false);\n                            }\n                        });\n        \n\n        svgMainView = d3.select(\"#scatterplot_\" + props.dataset + \"_\" + props.method);\n        svgMainView.select(\"rect\").style(\"fill-opacity\", 0);\n        gMainView = d3.select(\"#scatterplot_g_\" + props.dataset + \"_\" + props.method);\n        \n\n        d3.select(`#scatterplot_circle_g_${props.dataset}_${props.method}`).selectAll(\"circle\")\n                            .data(pointsData)\n                            .join(enter => null, update => {\n                                update.on(\"mouseenter\", function() {\n                                    if(!isSelecting.current && !isMakingContour.current)\n                                       d3.select(this).attr(\"r\", radius * 3)\n                                })\n                                .on(\"mouseleave\", function() {\n                                    if(!isSelecting.current && !isMakingContour.current)\n                                       d3.select(this).attr(\"r\", radius)\n                                })\n                                .on(\"click\", function(e, d) {\n                                    if(!isSelecting.current && !isMakingContour.current){\n                                       isSelecting.current = true;\n                                       d3.select(this).attr(\"r\", radius * 5);\n                                       let missingPointsDict = missingPointsData[d.idx];\n                                       let edges = getMissingEdgesInfo(missingPointsDict)\n                                       renderMissingEdges(edges, missingPointsDict);\n                                    }\n                                });\n                                \n\n                            });\n\n        // minimap\n\n        d3.select(\"#minimap\").style(\"position\",\"fixed\");\n        svgMiniMap = d3.select(\"#minimap_\" + props.dataset + \"_\" + props.method)\n                        \n\n                        svgMainView.on('wheel', e => {\n                            let newScale, newTransX, newTransY;\n                            const {offsetX, offsetY, wheelDelta} = e;\n                            \n                            const [scale, transX, transY] = getTransformValue();\n                \n                            if (wheelDelta > 0){ // ZOOM IN\n                                if (scale < 5.0){\n                                    newScale = parseFloat(scale) + parseFloat(0.1);\n                                    newTransX = transX - 0.1 * (offsetX - transX) / scale;\n                                    newTransY = transY - 0.1 * (offsetY - transY) / scale;\n                                    gMainView.attr('transform', `translate(${newTransX.toFixed(3)}, ${newTransY.toFixed(3)}) scale(${newScale.toFixed(1)})`);\n                                    \n                                    brush.move(gBrush, [\n                                        [(margin.hor * newScale - newTransX) * ratio / newScale, (margin.ver * newScale - newTransY) * ratio / newScale],\n                                        [(margin.hor * newScale - newTransX) * ratio / newScale + (width + 2 * margin.hor) * ratio / newScale,\n                                         (margin.ver * newScale - newTransY) * ratio / newScale + (height + 2 * margin.ver) * ratio / newScale],\n                                    ]);\n                                }\n                            }\n                            else if (scale > 1.0){ // ZOOM OUT\n                                    newScale = parseFloat(scale) - parseFloat(0.1);\n                                    newTransX = transX + 0.1 * (offsetX - transX) / scale;\n                                    newTransY = transY + 0.1 * (offsetY - transY) / scale;\n                                    const moveX = d3.max([d3.min([newTransX, margin.hor * newScale]),(30 / newScale) - (newScale - 1.0) * width]);\n                                    const moveY = d3.max([d3.min([newTransY, margin.ver * newScale]),(30 / newScale) - (newScale - 1.0) * height]);\n                                    gMainView.attr('transform', `translate(${moveX.toFixed(3)}, ${moveY.toFixed(3)}) scale(${newScale.toFixed(1)})`);\n                \n                                    brush.move(gBrush, [\n                                        [(margin.hor * newScale - moveX) * ratio / newScale, (margin.ver * newScale - moveY) * ratio / newScale],\n                                        [(margin.hor * newScale - moveX) * ratio / newScale + (width + 2 * margin.hor) * ratio / newScale,\n                                         (margin.ver * newScale - moveY) * ratio / newScale + (height + 2 * margin.ver) * ratio / newScale],\n                                    ]);\n                            }\n                        });\n\n                svgMiniMap.on('wheel', e => {\n                    let newScale, newTransX, newTransY;\n                    const {offsetX, offsetY, wheelDelta} = e;\n                    \n                    const [scale, transX, transY] = getTransformValue();\n                    if (wheelDelta > 0){ // ZOOM IN\n                        if (scale < 5.0){\n                            newScale = parseFloat(scale) + parseFloat(0.1);\n                            newTransX = transX - 0.1 * (offsetX / ratio - transX) / scale;\n                            newTransY = transY - 0.1 * (offsetY / ratio- transY) / scale;\n                            gMainView.attr('transform', `translate(${newTransX.toFixed(3)}, ${newTransY.toFixed(3)}) scale(${newScale.toFixed(1)})`);\n                            \n                            brush.move(gBrush, [\n                                [(margin.hor * newScale - newTransX) * ratio / newScale, (margin.ver * newScale - newTransY) * ratio / newScale],\n                                [(margin.hor * newScale - newTransX) * ratio / newScale + (width + 2 * margin.hor) * ratio / newScale,\n                                 (margin.ver * newScale - newTransY) * ratio / newScale + (height + 2 * margin.ver) * ratio / newScale],\n                            ]);\n                        }\n                    }\n                    else if (scale > 1.0){ // ZOOM OUT\n                            newScale = parseFloat(scale) - parseFloat(0.1);\n                            newTransX = transX + 0.1 * (offsetX / ratio - transX) / scale;\n                            newTransY = transY + 0.1 * (offsetY / ratio- transY) / scale;\n                            const moveX = d3.max([d3.min([newTransX, margin.hor * newScale]),(30 / newScale) - (newScale - 1.0) * width]);\n                            const moveY = d3.max([d3.min([newTransY, margin.ver * newScale]),(30 / newScale) - (newScale - 1.0) * height]);\n                            gMainView.attr('transform', `translate(${moveX.toFixed(3)}, ${moveY.toFixed(3)}) scale(${newScale.toFixed(1)})`);\n        \n                            brush.move(gBrush, [\n                                [(margin.hor * newScale - moveX) * ratio / newScale, (margin.ver * newScale - moveY) * ratio / newScale],\n                                [(margin.hor * newScale - moveX) * ratio / newScale + (width + 2 * margin.hor) * ratio / newScale,\n                                 (margin.ver * newScale - moveY) * ratio / newScale + (height + 2 * margin.ver) * ratio / newScale],\n                            ]);\n                    }\n                });\n\n        svgMainView.call(\n            d3.drag()\n            .on(\"drag\",drag));\n\n        gBrush = svgMiniMap.append('g').attr('id', 'gBrush');\n\n        gBrush.call(brush);\n        brush.move(gBrush, [\n            [0,0],\n            [(width + 2 * margin.hor) * ratio, (height + 2 * margin.ver) * ratio]\n        ]);\n        \n        svgMiniMap.selectAll('.handle').remove();\n        svgMiniMap.selectAll('.overlay').remove();\n\n    }, [props.method]);\n   \n\n\n    return (\n        <div id=\"content\">\n            <div id=\"content-left\">\n                <div id=\"scatterplot\">\n                    <svg id={`scatterplot_${props.dataset}_${props.method}`}></svg>\n                </div>\n                <div id=\"detailview\">\n                    <BottomBarChart\n                        colorScale={colorScale}\n                        data={pointsData}\n                        update={update}\n                        points={pointsIn}\n                        label={label_data}\n                        missingPoints={missingPointsIn}\n                        dataset={props.dataset}\n                        method={props.method}/>\n                </div>\n            </div>\n            <div id=\"content-right\">\n                <div id=\"compareview\">\n                <CompareView\n                    main_method={props.method}\n                    methods={props.methods}\n                    dataset={props.dataset}\n                    update={update}\n                    points={pointsIn}\n                    data={pointsData}\n                    label={label_data}\n                    dataset={props.dataset}\n                    colorScale={colorScale}\n                    missingPoints={missingPointsIn}\n                    setMainMethod={props.setMainMethod}\n                /></div>\n\n                <ShepardDiagram\n                    method={props.method}\n                    dataset={props.dataset} \n                />\n                <div className=\"section-title\">\n                    Label Distribution</div>\n                <BarChart \n                    method={props.method}\n                    dataset={props.dataset}\n                    colorScale={colorScale}\n                    option={\"count\"}\n                    threshold={0.4}\n                />\n\n            </div>\n            \n            <div id=\"minimap\" style={{bottom:0, left:0}}>\n                <div className=\"minimap-title\">Minimap</div>\n                <svg id={`minimap_${props.dataset}_${props.method}`}></svg>\n            </div>\n            <div id=\"repoview\"></div>\n        </div>\n    );\n};\n\nexport default ExplorerNew;","import { range } from 'd3';\nimport React, { useState } from 'react';\nimport aaa from '../assets/mnist_sampled_10_isomap.png';\n\nconst RepositoryTab = (props) => {\n\n  const repo_dict = [\n    {dataset: \"mnist_sampled_10\", method: \"pca\", thumbnail: require(\"../assets/mnist_sampled_10_pca.png\"), repo: NaN},\n    {dataset: \"mnist_sampled_10\", method: \"umap\", thumbnail: require(\"../assets/mnist_sampled_10_umap.png\"), repo: NaN},\n    {dataset: \"mnist_sampled_10\", method: \"isomap\", thumbnail: require(\"../assets/mnist_sampled_10_isomap.png\"), repo: NaN},\n    {dataset: \"mnist_sampled_10\", method: \"tsne\", thumbnail: require(\"../assets/mnist_sampled_10_tsne.png\"), repo: NaN},\n  ]\n  \n  function makeButtons(){\n    let items = [];\n    for (let i in repo_dict){\n      items.push(\n        <button id=\"repo-button\"> \n          <img src={repo_dict[i].thumbnail.default} alt={repo_dict[i].dataset+\"-\"+repo_dict[i].method} \n            style={{width:\"200px\", height:\"200px\", margin:\"10px 0\"}}/>\n          <div id=\"repo-name\" style={{transform: \"translateY(-120px)\"}}>\n            {repo_dict[i].dataset}<br/>{repo_dict[i].method}\n            </div>\n        </button>\n      )\n    }\n    return items;\n  }\n\n\n  return (\n    <div id=\"repoview\" className='Tab'>\n      <div className=\"tab-title\">\n      Repository\n      </div>\n      {makeButtons()}\n\n    </div>\n  );\n\n\n}\n\nexport default RepositoryTab;","import './App.css';\nimport React, { useState } from 'react'\n\nimport BasicInfoTab from './components/Left-BasicInfo';\nimport ControlTab from './components/Left-Control';\nimport ExplorerNew from './components/Explorer-new';\nimport RepositoryTab from './components/Right-Repository';\n\nfunction App() {\n\n  const methods = [\"pca\" , \"isomap\", \"tsne\", \"umap\"];\n  const [mainMethod, setMainMethod] = useState(\"pca\");\n\n  const embedding_parameters = {'param1': 111, 'param2': 222, 'param3': 222, 'param4': 222, 'param5': 222};\n\n  return (\n    <div className=\"App\">\n      <title>Embeding Explorer</title>\n      <div className=\"App-header\">\n        Distortion in Dimension Reduction\n      </div>\n      <div id=\"body\">\n        <div id=\"left-bar\">\n            <BasicInfoTab\n              method={mainMethod}\n              dataset=\"mnist_sampled_10\"\n              isLabel={true}\n              emb_params={embedding_parameters}\n            />\n            <ControlTab\n              method={mainMethod}\n              dataset=\"mnist_sampled_10\"\n              isLabel={true}\n              emb_params={embedding_parameters}\n            />\n        </div>\n          <ExplorerNew\n            methods={methods}\n            method={mainMethod}\n            dataset=\"mnist_sampled_10\"\n            isLabel={true}\n            showMissing={true}\n            showFalse={true}\n            radius={2.5}\n            stroke={3}\n            setMainMethod = {setMainMethod}\n          />\n        </div>\n        <div id=\"right-bar\">\n          <RepositoryTab/>\n        </div>\n      <footer/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport axios from 'axios';\r\n\r\naxios.defaults.xsrfCookieName = 'csrftoken'\r\naxios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","export default __webpack_public_path__ + \"static/media/mnist_sampled_10_isomap.17dbb787.png\";"],"sourceRoot":""}